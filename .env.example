# ===========================================
# CHAT AI Gateway Application Configuration
# ===========================================

# Primary Database Configuration (for webhook events)
DB_HOST=genfity-db-postgres
DB_PORT=5432
DB_USER=genfity_user
DB_PASSWORD=genfity_password
DB_NAME=chat_ai_db
DB_SSLMODE=disable

# Transactional Database Configuration (for subscription/user data)
TRANSACTIONAL_DB_HOST=genfity-db-postgres
TRANSACTIONAL_DB_PORT=5432
TRANSACTIONAL_DB_USER=genfity_user
TRANSACTIONAL_DB_PASSWORD=genfity_password
TRANSACTIONAL_DB_NAME=transactional_db
TRANSACTIONAL_DB_SSLMODE=require

# Application Configuration
PORT=8070
TZ=Asia/Jakarta
GIN_MODE=release

# Gateway Configuration
GATEWAY_MODE=enabled

# WhatsApp Server Configuration (REQUIRED for gateway)
# This is the URL where gateway will proxy requests to
WA_SERVER_URL=http://localhost:8080
WA_ADMIN_TOKEN=your_wa_admin_token

JWT_SECRET=

# Optional Settings
LOG_LEVEL=info

# ===========================================
# AI BOT Configuration
# ===========================================

# Data Access Mode: "api" or "direct"
# - api (default): Call Next.js API for transactional data (recommended, safer)
# - direct: Direct DB access for high-performance scenarios (100s-1000s req/sec)
# Note: Direct mode requires Prisma migration to be run first in clivy-app
DATA_ACCESS_MODE=api

# OpenRouter API Configuration
OPENROUTER_API_KEY=your_openrouter_api_key
OPENROUTER_MODEL=openai/gpt-4o-mini
OPENROUTER_HTTP_REFERER=https://clivy.app
OPENROUTER_X_TITLE=Clivy
AI_TIMEOUT_MS=120000

# Transactional API (Next.js) - Used when DATA_ACCESS_MODE=api
TRANSACTIONAL_API_URL=http://localhost:8090/api

# Internal API Key for worker to log usage (required for API mode)
INTERNAL_API_KEY=your_internal_api_key

